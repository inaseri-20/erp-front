<div>
  <mat-toolbar>
    <mat-toolbar-row style='overflow: hidden; display: inline-block !important; height: 90px'>

      <button mat-icon-button class='menu-btn mt-3 mb-1 float-start' (click)='toggleMenu()' id='side-menu'>
        <mat-icon class='mat-18'>
          {{(this.sideExpand) ? 'arrow_forward' : 'menu'}}
        </mat-icon>
      </button>

      <button mat-raised-button color='accent' id='day-button' class='mt-3 mb-1 float-start ms-1 p-2'
              *ngIf="this.router.url === '/dashboard'">

        <button mat-icon-button (click)='backDay()'>
          <mat-icon>navigate_next</mat-icon>
        </button>

        <button mat-button (click)='openDialog()'> روز {{currentDay}}</button>

        <button mat-icon-button (click)='nextDay()'>
          <mat-icon>chevron_left</mat-icon>
        </button>

      </button>

      <h1 class='mt-3 mb-1 float-start ms-3' id='day-title' *ngIf='dayTitle'
          style='padding: 10px !important; border: 3px solid; border-radius: 20px;'>{{dayTitle}}</h1>

      <div class='float-start mx-5 mt-3 mb-1 d-flex justify-content-around'
          style='padding: 10px !important; border: 3px solid red; background: red; border-radius: 20px;'>
        <a href='https://app.emrooz.ir' class='d-inline text-decoration-none text-white' >دسترسی به کل فیلم‌های
          منتورینگ <span style='font-size: 10px'>(app.emrooz.ir)</span></a>
      </div>

      <button mat-icon-button class='mt-3 mb-1 float-end' [matMenuTriggerFor]='menu' *ngIf='!clientInfo.image'>
        <mat-icon>person</mat-icon>
      </button>
      <div class='user-avatar mt-3 mb-1 pb-2 float-end'>
        <button mat-icon-button [matMenuTriggerFor]='menu' *ngIf='clientInfo.image'>
          <img [src]='clientInfo?.image' class='w-100 h-100' style='border-radius: 100%'>
        </button>
      </div>
      <mat-menu #menu='matMenu'>
        <button mat-menu-item [routerLink]="['/user/rules']">
          <mat-icon>rule</mat-icon>
          قوانین
        </button>
        <button mat-menu-item (click)='changeInformation()'>
          <mat-icon>manage_accounts</mat-icon>
          مشخصات من
        </button>
        <button mat-menu-item (click)='logout()'>
          <mat-icon>logout</mat-icon>
          خروج
        </button>
      </mat-menu>
      <p class='float-end mt-4 mb-2 pb-2 me-3'
         id='user-full-name'>{{clientInfo?.first_name}} {{clientInfo?.last_name}}</p>

      <div class='mt-2 pb-2 float-end'>
        <span class='fs-4 text-danger me-2 mt-3'>{{hearts}}</span>
        <mat-icon color='warn' class='mt-2 me-3 text-danger' style='font-size: 40px;'>
          favorite
        </mat-icon>
      </div>

      <button mat-mini-fab class='mt-3 mb-1 pb-2 me-2 float-end' color='warn' [matMenuTriggerFor]='notificationsMenu'>
        <mat-icon>notifications</mat-icon>
      </button>

      <mat-menu #notificationsMenu='matMenu'>
        <div class='card' style='background: #00cc22;'>
          <div class='card-body'>
            <h3 class='fw-bold text-white m-0'>پیام ها</h3>
          </div>
        </div>
        <cdk-virtual-scroll-viewport itemSize='20' class='viewport'>
          <div *ngFor='let notification of notifications'>
            <div class='px-2'>
              <p class='text-success'>{{notification?.title}}</p>
              <p class='text-muted'>{{notification?.body}}</p>
              <span class='float-sm-start fw-lighter'>{{notification?.created}}</span>
              <hr class='w-100 bg-dark'>
            </div>
          </div>
        </cdk-virtual-scroll-viewport>
      </mat-menu>

    </mat-toolbar-row>
  </mat-toolbar>
</div>

<div class='container-fluid'>

  <mat-sidenav-container style='min-height: 100vh'>

    <mat-sidenav fixedInViewport #sidenav [mode]='navMode' [(opened)]='sideExpand' class='custom-side-nav'>
      <app-sidebar (closeNav)='sidenav.close()'></app-sidebar>
    </mat-sidenav>

    <mat-sidenav-content>

      <div class='main-content d-flex flex-column justify-content-between' id='top'>

        <div class='py-2 pe-4' id='main-container'>
          <router-outlet></router-outlet>
        </div>

      </div>


    </mat-sidenav-content>

  </mat-sidenav-container>

</div>

<app-footer id='footer'></app-footer>
